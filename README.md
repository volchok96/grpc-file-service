# GRPC-FILE-SERVICE

gRPC-сервис для работы с файлами на Golang

## Описание
Этот проект представляет собой сервис на Golang, работающий по протоколу gRPC, который позволяет клиенту:
- Загружать бинарные файлы (изображения) на сервер и сохранять их на жестком диске.
- Просматривать список всех загруженных файлов, включая имя файла, дату его создания и дату последнего обновления.
- Отдавать файлы клиенту.
- Ограничивать количество одновременных подключений:
  - 10 конкурентных запросов на загрузку/скачивание файлов.
  - 100 конкурентных запросов на просмотр списка файлов.

## Требования
- Golang (Go 1.21 или выше)
- `protoc` — инструмент для генерации Go кода из `.proto` файлов.


## Установка
1. Установите Golang и `protoc` (если не установлены).  
   - Для установки Golang следуйте [официальной инструкции](https://golang.org/doc/install).  
   - Для установки `protoc` следуйте [официальной инструкции](https://grpc.io/docs/protoc-installation/).  

2. Клонируйте репозиторий:
    ```bash
   git clone git@github.com:volchok96/grpc-file-service.git
   cd grpc-file-service
   ```

3. Установите все зависимости:
    ```bash
    go mod tidy
    ```

4. Сгенерируйте Go файлы из .proto:

    В проекте есть файл generate.sh, который генерирует Go код из .proto файлов. Запустите его:

    ```bash
    ./api/generate.sh
    ```

## Сборка и запуск
Для сборки и запуска сервиса используйте Makefile.


## Описание API
1. Загрузка файла
Метод: UploadFile

Описание: Клиент отправляет файл на сервер. Сервер сохраняет его на диске.

Параметры:

filename — имя файла.

chunk — бинарные данные файла.

2. Скачивание файла
Метод: DownloadFile

Описание: Клиент запрашивает файл с сервера.

Параметры:

filename — имя файла.

3. Получение списка файлов
Метод: ListFiles

Описание: Клиент получает список всех файлов на сервере, включая дату их создания и последнего обновления.

4. Ограничения на подключения
Максимум 10 одновременных подключений для загрузки/скачивания файлов.

Максимум 100 одновременных подключений для просмотра списка файлов.

## Пример использования

### Запуск сервера

```bash
go run cmd/server/main.go 
```
### Запуск клиента

#### Загрузка файлов

```bash
go run cmd/client/main.go --upload="roses.png"
```

#### Скачивание файлов
```bash
go run cmd/client/main.go --download="flowers.png"
```

#### Просмотр файлов
```bash
go run cmd/client/main.go
```

## Лицензия
Этот проект лицензируется в соответствии с лицензией MIT. См. файл LICENSE для подробностей.
